<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.onin.project.mapper.EbmemberMapper">


<select id="memberLogin" resultType="com.onin.project.dto.MemberDTO">
SELECT * FROM MEMBER WHERE email=#{email} AND PWD =#{pwd}
</select>

<!-- pw찾기 -->
<select id="pwdForgot" resultType="com.onin.project.dto.MemberDTO">
select * from member where email=#{email}
</select>

<!-- 임시비밀번호변경-->
<update id="updatepwd">
	update member set pwd = #{pwd} where email = #{email}
</update>

<!-- 카테고리 호출 -->
<select id="category" resultType="com.onin.project.dto.CategoryDTO">
SELECT * FROM CATEGORY start with CNOREF is null connect by prior CNO = CNOREF
</select>

<!-- form값 db전송 -->
<insert id="estimateDone">
INSERT INTO INVOICE
(CNO, CNOREF, Q1, Q2, "ad", invoice_date, COST, FROM_MNO, send_date)
VALUES(#{cno}, #{cnoref}, #{q1}, #{q2}, #{ad}, #{invoice_date}, #{cost}, #{from_mno}, sysdate)
</insert>
</mapper>