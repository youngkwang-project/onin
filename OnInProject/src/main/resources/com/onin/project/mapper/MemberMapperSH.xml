<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.onin.project.mapper.MemberMapperSH">
 
<insert id="register" parameterType="com.onin.project.dto.MemberDTO">
<selectKey resultType="int" keyProperty="mno" order="BEFORE">
        SELECT MAX(MNO)+1 FROM MEMBER
  </selectKey>
	insert into member(mno,email,pwd,name,tel)
	values(#{mno},#{email},#{pwd},#{name,jdbcType=VARCHAR},#{tel})
	
</insert>
<!-- <insert id="createAuthKey"> -->
<!-- 	 into member values(#{email}, #{authKey}) -->
<!-- </insert> -->

<!-- <update id="userAuth"> -->
<!-- 	<![CDATA[update user set userCertification = 1 where (select count(*) from userAuth where userEmail = #{userEmail}) > 0]]> -->
<!-- </update> -->
<select id="idCheck" resultType="com.onin.project.dto.MemberDTO" >
select * from member where email=#{email}

</select>
</mapper>
